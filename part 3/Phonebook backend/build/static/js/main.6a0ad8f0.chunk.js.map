{"version":3,"sources":["components/Display.js","components/Form.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Display","persons","handleDeleteClick","map","it","key","name","number","onClick","id","Form","props","onSubmit","handleSubmit","htmlFor","type","value","nameValue","onChange","handleNameChange","tpye","numberValue","handleNumberChange","Filter","handleChange","Notification","message","text","style","color","backgroundColor","border","fontSize","width","url","axios","get","then","res","data","obj","post","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","setMessage","nullMessage","setTimeout","contactsToShow","includes","useEffect","personService","event","target","preventDefault","newPerson","trim","person","find","i","window","confirm","catch","err","Object","keys","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6a0ad8f0.chunk.js","sourcesContent":["import React from \"react\";\n\n\nconst Display = ({persons, handleDeleteClick}) => {\n\n    return (\n        <div>\n            {persons.map((it)=> <p key={it.name}>{it.name} {it.number} <button onClick={() => handleDeleteClick(it.id)}>Delete</button></p>)}\n        </div>\n    )\n\n}\n\n\nexport default Display;","import React from \"react\";\n\nconst Form = props => {\n\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <label htmlFor=\"name\">Name: </label>\n                <input type=\"text\" value={props.nameValue} onChange={props.handleNameChange}></input>\n            </div>\n            <div>\n                <label htmlFor=\"number\">Phone Number: </label>\n                <input tpye=\"text\" value={props.numberValue} onChange={props.handleNumberChange}></input>\n            </div>\n            <div>\n                <button>Add</button>    \n            </div>\n        </form>\n    )\n}\n\nexport default Form;","import React from \"react\";\n\n\nconst Filter = props => {\n    return (\n        <div>\n            <label htmlFor=\"filterBar\">Filter by Name</label>\n            <input value={props.value} onChange={props.handleChange} />\n        </div>\n    )\n}\n\nexport default Filter;","import React from \"react\";\n\n\nconst Notification = ({message}) => {\n    const { type, text } = message;\n    const errorStyle = {\n        color: \"red\",\n        backgroundColor: \"#ed8e8e\",\n        border: \"1px solid red\",\n        fontSize: \"2rem\",\n        width: \"fit-content\"\n    }\n    const successStyle = {\n        color: \"green\",\n        backgroundColor: \"#eaffc2\",\n        border: \"1px solid green\",\n        fontSize: \"2rem\",\n        width: \"fit-content\"\n    }\n\n    return (\n        <p style={type === \"error\" ? errorStyle : successStyle}>{text}</p>\n    )\n\n}\n\nexport default Notification;","import axios from \"axios\";\n\n\nconst url = \"api/persons\"\n\nconst getContacts = () => {\n    let req = axios.get(url);\n    return req.then(res => res.data);\n}\n\nconst addContact = obj => { \n    let req = axios.post(url, obj);\n    return req.then(res => res.data);\n}\n\nconst deleteContact = id => {\n    let req = axios.delete(`${url}/${id}`);\n    return req.then(res => res.data)\n}\n\nconst updateContact = (id, obj) => {\n    let req = axios.put(`${url}/${id}`, obj);\n    return req.then(res => res.data);\n}\n\nexport default {\n    getContacts,\n    addContact,\n    deleteContact,\n    updateContact\n}","import React, { useEffect, useState } from \"react\";\nimport Display from \"./components/Display\";\nimport Form from \"./components/Form\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n\n    const [persons, setPersons] = useState([]);\n    const [ newName, setNewName ] = useState(\"\");\n    const [ newNumber, setNewNumber ] = useState(\"\");\n    const [ filter, setFilter ] = useState(\"\");\n    const [ message, setMessage ] = useState(null);\n\n\n    const handleNameChange = event => setNewName(event.target.value);\n\n    const handleNumberChange = event => setNewNumber(event.target.value);\n    \n    const handleFilterChange = event => setFilter(event.target.value);\n\n    const nullMessage = () => setTimeout(() => setMessage(null), 5000);\n\n    const contactsToShow = filter === \"\" ? persons : persons.filter(it => it.name.includes(filter));\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        let newPerson = {name: newName.trim(), number: newNumber.trim()};\n        let person = persons.find(i => i.name === newName);\n        if (person) {\n            if (window.confirm(`${newName} already exists in the phonebook. Do you want to replace the number?`)) {\n                personService\n                .updateContact(person.id, newPerson)\n                .then(res => {\n                    setMessage({type: \"success\", text: `Number for ${newName} has been changed to ${newNumber}.`});\n                    nullMessage();\n                })\n                .catch(err => {\n                    setMessage({type: \"error\", text: `Couldn't change number for ${newName}.`});\n                    nullMessage();\n                })\n                .then(res => personService.getContacts().then(res => setPersons(res))); \n            }\n        } else {\n            let newPersons = [...persons];\n            personService\n            .addContact(newPerson)\n            .then(res => {\n                setMessage({type: \"success\", text: `${newName} has been added to the phone book with number ${newNumber}.`});\n                nullMessage();\n            })\n            .catch(err => {\n                setMessage({type: \"error\", text: `${newName} couldn't be added to the database. Message: ${err}`});\n                nullMessage();\n            })\n            .then(res => personService.getContacts().then(res => setPersons(res)));\n        }\n        setNewName(\"\");\n        setNewNumber(\"\");\n    }\n\n    const handleDeleteClick = id => {\n        const person = persons.find(i => i.id === id);\n            if (window.confirm(`Are you sure you want to delete ${person.name}?`)) {\n                personService\n                .deleteContact(person.id)\n                .then(res => {\n                    setMessage({type:\"success\", text: `${person.name} has been deleted.`});\n                    nullMessage();\n                })\n                .catch(err => {\n                    setMessage({type: \"error\", text: `${person.name} is already deleted from the database`});\n                    nullMessage();\n                });\n                setPersons(persons.filter(i => i.id !== id));\n            }\n        }\n\n    useEffect(() => personService.getContacts().then(res => setPersons(res)), []);\n\n    return (\n        <div>\n            <h1>Phonebook</h1>\n            <Filter value={filter} handleChange={handleFilterChange} />\n            <h2>Add a new contact</h2>\n            {message && <Notification message={message}/>}\n            <Form \n                nameValue={newName} \n                numberValue={newNumber} \n                handleNameChange={handleNameChange} \n                handleNumberChange={handleNumberChange}\n                handleSubmit={handleSubmit} />\n            <h2>Numbers</h2>\n            {Object.keys(contactsToShow).length === 0 ? <p>No contacts to show.</p> : <Display persons={contactsToShow} handleDeleteClick={handleDeleteClick}/>}\n        </div>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}